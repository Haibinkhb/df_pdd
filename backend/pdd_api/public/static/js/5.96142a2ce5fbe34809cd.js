webpackJsonp([5],{FPbO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Dd8w"),n=s.n(o),a=s("Xxa5"),r=s.n(a),c=(s("34+y"),s("X+yh")),i=s.n(c),l=(s("OgVB"),s("/Lyv")),d=s.n(l),u=s("exGp"),m=s.n(u),f=s("gyMJ"),p=s("NYxO"),_=(s("4kSj"),s("mtWM")),v=s.n(_),g={data:function(){var t=this.$createElement;return{mescroll:null,mescrollDown:{},mescrollUp:{callback:this.upCallback,page:{num:0,size:10},htmlNodata:t("p",{class:"upwarp-nodata"},["-- END --"]),noMoreSize:5,toTop:{src:"./static/mescroll/mescroll-totop.png",offset:1e3},empty:{warpId:"xxid",icon:"./static/mescroll/mescroll-empty.png",tip:"暂无相关数据~"}},dataList:[]}},components:{MescrollVue:s("p0f0").a},beforeRouteEnter:function(t,e,s){s(function(t){t.$refs.mescroll&&t.$refs.mescroll.beforeRouteEnter()})},beforeRouteLeave:function(t,e,s){this.$refs.mescroll&&this.$refs.mescroll.beforeRouteLeave(),s()},methods:{AddGoodsToCart:function(t){var e=this;return m()(r.a.mark(function s(){var o;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.userInfo.usersId){s.next=4;break}d.a.confirm("您需要登录后才能执行此操作").then(function(t){"confirm"===t&&e.$router.replace("/loginPanel")}),s.next=9;break;case 4:return s.next=6,Object(f.b)(t);case 6:return o=s.sent,s.next=9,i()({message:o.meessage,position:"center",duration:1200});case 9:case"end":return s.stop()}},s,e)}))()},mescrollInit:function(t){this.mescroll=t},upCallback:function(t,e){var s=this;v.a.get("http://139.155.126.152:3000/api/recommend",{params:{offset:(t.num-1)*t.size,count:t.size}}).then(function(o){var n=o.data.results;1===t.num&&(s.dataList=[]),s.dataList=s.dataList.concat(n),s.$nextTick(function(){e.endSuccess(n.length)})}).catch(function(t){e.endErr()})}},computed:n()({},Object(p.c)(["recommend_goods","userInfo"])),filters:{filterPrice:function(t){return(t/100).toFixed(2)}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},[s("mescroll-vue",{ref:"mescroll",staticClass:"mescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[t.dataList?s("ul",{staticClass:"recommend_goods"},t._l(t.dataList,function(e){return s("li",{key:e.goods_id,staticClass:"recommend_goods_list"},[s("div",{staticClass:"goods"},[s("div",{staticClass:"goods_img"},[s("img",{attrs:{src:e.hd_thumb_url}})]),t._v(" "),s("div",{staticClass:"goods_name"},[s("p",[t._v(t._s(e.goods_name))])]),t._v(" "),s("div",{staticClass:"center_box"},[s("div",{staticClass:"goods_tags"},[t._v("退货无忧")]),t._v(" "),s("div",{staticClass:"sales_tip"},[t._v(t._s(e.sales_tip))])]),t._v(" "),s("div",{staticClass:"goods_bottom"},[s("div",{staticClass:"goodsPrice"},[s("span",{staticClass:"goods_price_logo"},[t._v("￥")]),t._v(t._s(t._f("filterPrice")(e.price))+"\n            ")]),t._v(" "),s("div",{staticClass:"find_button",on:{click:function(s){t.AddGoodsToCart(e)}}},[t._v("加入购物车")])])])])}),0):t._e()])],1)},staticRenderFns:[]};var h=s("VU/8")(g,b,!1,function(t){s("Mj4J")},null,null);e.default=h.exports},Mj4J:function(t,e){}});